{"openapi":"3.0.1","info":{"title":"EU Digital COVID Certificate Validation Decorator","description":"The API provides functionalities for validating EU digital COVID certificates.","license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"},"version":"refs/heads/main"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/callback/{subject}":{"put":{"tags":["callback-controller"],"summary":"The optional callback endpoint receives the validation result to a subject","description":"The optional callback endpoint receives the validation result to a subject","operationId":"callback","parameters":[{"name":"subject","in":"path","required":true,"schema":{"type":"string"}},{"name":"X-Version","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/jwt":{"schema":{"type":"string"}},"text/plain":{"schema":{"type":"string"}}},"required":true},"responses":{"401":{"description":"Unauthorized, if Result Token was not correctly signed","content":{"*/*":{"schema":{"type":"string"}}}},"410":{"description":"Gone. Subject does not exist anymore","content":{"*/*":{"schema":{"type":"string"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"string"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/token":{"post":{"tags":["dcc-token-controller"],"summary":"Access token for the validation service","description":"Access token for the validation service","operationId":"token","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DccTokenRequest"}}},"required":true},"responses":{"404":{"description":"Not Found","content":{"application/jwt":{"schema":{"type":"string"}}}},"400":{"description":"Bad Request / Validation errors","content":{"application/jwt":{"schema":{"type":"string"}}}},"410":{"description":"Gone. Repository service reports errors","content":{"application/jwt":{"schema":{"type":"string"}}}},"401":{"description":"Unauthorized, if no access token was provided","content":{"application/jwt":{"schema":{"type":"string"}}}},"500":{"description":"Internal Server Error","content":{"application/jwt":{"schema":{"type":"string"}}}},"200":{"description":"OK","content":{"application/jwt":{"schema":{"type":"string"}}}}}}},"/status":{"get":{"tags":["validation-status-controller"],"summary":"The validation status endpoint provides the validation result of a subject","description":"The validation status endpoint provides the validation result of a subject","operationId":"status","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"No content, wait for status","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultToken"}}}},"401":{"description":"Unauthorized, if no access token are provided","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultToken"}}}},"410":{"description":"Gone. Subject does not exist anymore","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultToken"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultToken"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResultToken"}}}}}}},"/reject":{"get":{"tags":["reject-controller"],"summary":"Cancels a DCC validation","description":"Cancels a DCC validation","operationId":"reject","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"401":{"description":"Unauthorized, if no access token are provided","content":{"*/*":{"schema":{"type":"string"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"type":"string"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/initialize/{subject}":{"get":{"tags":["initialize-controller"],"summary":"The provision endpoint is the public endpoint for receiving the initialization QR Code","description":"The provision endpoint is the public endpoint for receiving the initialization QR Code","operationId":"initialize","parameters":[{"name":"subject","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QrCodeDto"}}}},"400":{"description":"Bad Request / Validation errors","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QrCodeDto"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QrCodeDto"}}}},"401":{"description":"Unauthorized, if no active session is attached","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QrCodeDto"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QrCodeDto"}}}}}}},"/identity":{"get":{"tags":["identity-controller"],"summary":"The identity document endpoint delivers a JSON description of public keys and endpoints","description":"The identity document endpoint delivers a JSON description of public keys and endpoints","operationId":"identity","parameters":[{"name":"element","in":"path","required":true,"schema":{"type":"string"}},{"name":"type","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdentityResponse"}}}},"400":{"description":"Bad Request / Validation errors","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdentityResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdentityResponse"}}}},"401":{"description":"Unauthorized, if no active session is attached","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdentityResponse"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdentityResponse"}}}}}}},"/identity/{element}":{"get":{"tags":["identity-controller"],"summary":"The identity document endpoint delivers a JSON description of public keys and endpoints","description":"The identity document endpoint delivers a JSON description of public keys and endpoints","operationId":"identity_1","parameters":[{"name":"element","in":"path","required":true,"schema":{"type":"string"}},{"name":"type","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdentityResponse"}}}},"400":{"description":"Bad Request / Validation errors","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdentityResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdentityResponse"}}}},"401":{"description":"Unauthorized, if no active session is attached","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdentityResponse"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdentityResponse"}}}}}}},"/identity/{element}/{type}":{"get":{"tags":["identity-controller"],"summary":"The identity document endpoint delivers a JSON description of public keys and endpoints","description":"The identity document endpoint delivers a JSON description of public keys and endpoints","operationId":"identity_2","parameters":[{"name":"element","in":"path","required":true,"schema":{"type":"string"}},{"name":"type","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdentityResponse"}}}},"400":{"description":"Bad Request / Validation errors","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdentityResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdentityResponse"}}}},"401":{"description":"Unauthorized, if no active session is attached","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdentityResponse"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdentityResponse"}}}}}}}},"components":{"schemas":{"DccTokenRequest":{"required":["pubKey","service"],"type":"object","properties":{"service":{"type":"string"},"pubKey":{"type":"string"}}},"Result":{"type":"object","properties":{"identifier":{"type":"string"},"result":{"type":"string"},"type":{"type":"string"},"details":{"type":"string"}}},"ResultToken":{"type":"object","properties":{"result":{"type":"string"},"results":{"type":"array","items":{"$ref":"#/components/schemas/Result"}},"confirmation":{"type":"string"}}},"QrCodeDto":{"type":"object","properties":{"protocol":{"type":"string"},"protocolVersion":{"type":"string"},"serviceIdentity":{"type":"string"},"privacyUrl":{"type":"string"},"token":{"type":"string"},"consent":{"type":"string"},"subject":{"type":"string"},"serviceProvider":{"type":"string"}}},"IdentityResponse":{"type":"object","properties":{"id":{"type":"string"},"verificationMethod":{"type":"array","items":{"$ref":"#/components/schemas/VerificationIdentityResponse"}},"service":{"type":"array","items":{"$ref":"#/components/schemas/ServiceIdentityResponse"}}}},"PublicKeyJwkIdentityResponse":{"type":"object","properties":{"x5c":{"type":"array","items":{"type":"string"}},"kid":{"type":"string"},"alg":{"type":"string"},"use":{"type":"string"}}},"ServiceIdentityResponse":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string"},"serviceEndpoint":{"type":"string"},"name":{"type":"string"}}},"VerificationIdentityResponse":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string"},"controller":{"type":"string"},"publicKeyJwk":{"$ref":"#/components/schemas/PublicKeyJwkIdentityResponse"}}}}}}